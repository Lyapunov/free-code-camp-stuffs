<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/react/0.14.7/react-with-addons.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/react/0.14.7/react-dom.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/babel-core/5.8.24/browser.min.js"></script>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>

<!-- 
  CSS 
-->
<link rel="stylesheet" type="text/css" href="basic.css">

<!-- 
  JS 
-->
<script type="text/babel">
// See https://stackoverflow.com/questions/39462458/react-js-creating-simple-table, I used it as a basis

function withPostfix(num) {
   if ( num == 1 ) {
      return "1st";
   }
   if ( num == 2 ) {
      return "2nd";
   }
   if ( num == 3 ) {
      return "3rd";
   }
   return ""+num+"th";
}

class RecipeBox extends React.Component {
   constructor(props){
      super(props);
      this.state = {}

      // See for some recerence: https://stackoverflow.com/questions/2010892/storing-objects-in-html5-localstorage
      var recipeBox = JSON.parse(localStorage.getItem('recipeBox'));
      if ( !recipeBox ) {
         recipeBox = [{title:'chocolate bar',ingredients:'chocolate, bar'},{title:'apple pie',ingredients:'apple, pie, chocolate, bar'}];
      }
      localStorage.setItem('recipeBox', JSON.stringify(recipeBox));
      this.state.recipeBox = recipeBox;
   }

   render() {
      var rows = [];
      var mockid = 0;

      for (var i = 0; i < this.state.recipeBox.length; i++) {
         var content = [];
         var ingredients = this.state.recipeBox[i].ingredients.split(',');
         for (var j = 0; j < ingredients.length; ++j) {
            content.push(<p className='recipebox-ingredient'>{ingredients[j]}</p>);
         }
         rows.push(<div key={mockid++} className='recipebox-recipe'><p className='recipebox-headline'>{this.state.recipeBox[i].title}</p><div className='recipebox-body'>{content}</div></div>);
      }

      return(
         <div className='recipebox-main'>
            {rows}
         </div>
      );
   }
}

var mountNode = document.getElementById('recipebox-container');
ReactDOM.render(<RecipeBox/>, mountNode);
</script>

<!-- 
  HTML  
-->
<body>
   <div id="recipebox-header" class="recipebox-horizontal-bar">
      <p class="noselect fixed-big-font">Recipe Box</p>
   </div>
   <div id="recipebox-container"></div>
</body>
