<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
<script src="http://code.jquery.com/ui/1.9.2/jquery-ui.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>

<!-- 
  CSS 

  https://css-tricks.com/almanac/properties/s/stroke-dashoffset/

-->
<style>
html, body {
  max-width: 100%;
  overflow-x: hidden;
  overflow-y: hidden;
  background: #E23D28;
  color:black;
}

button {
  border: 0;
  background: none;
  background-repeat:no-repeat;
  box-shadow:none;
  border-radius: 0px;
  -webkit-appearance: none;
  color:none;
}

.centered {
   white-space: normal;
   overflow-wrap:break-word;
   text-align: center;
   display: table-cell;
   justify-content: center;
   vertical-align:middle;
}

.e-c-base {
  fill: none;
  stroke: #444444;
  stroke-width: 4px
}

.e-c-progress {
  fill: none;
  stroke: #00FF00;
  stroke-width: 4px;
  stroke-dasharray: 1000;
  stroke-dashoffset: 1000;
  animation: dash 5s linear forwards;
}

@keyframes dash {
  from {
    stroke-dashoffset: 1000;
  }
  to {
    stroke-dashoffset: 0;
  }
}

.e-c-pointer {
  fill: #FFF;
  stroke: #F7958E;
  stroke-width: 2px;
}

#clockbody {
  position:relative;
}

#clocktext-holder {
  position:absolute;
  left:50%;
  top:50%;
  height:15%;
}

#clocktext-holder-2 {
  text-align: center;
  position:relative;
  left:-50%;
  height:100%;
  top:-50%;
}

.clocktext {
  height:50%;
}

.noselect {
  -webkit-touch-callout: none; /* iOS Safari */
    -webkit-user-select: none; /* Safari */
     -khtml-user-select: none; /* Konqueror HTML */
       -moz-user-select: none; /* Firefox */
        -ms-user-select: none; /* Internet Explorer/Edge */
            user-select: none; /* Non-prefixed version, currently
                                  supported by Chrome and Opera */
}

.debug {
  background-color: green;
}

.debug2 {
  background-color: blue;
}

.container-row {
  display: block-inline;
  text-align:center;
}

</style>

<!-- 
  JS 
-->
<script>

function fitbox(identif, holder, magic) {
    var w = $(holder).width();
    var h = $(holder).height();
    var a = Math.sqrt(w*h);
  
    var constraint = a/magic;
    console.log(a,constraint);
    $(identif).css('font-size', (2*constraint)+'em');
    $(identif).css('font-size', constraint+'em');
}

/* see also https://stackoverflow.com/questions/25742441/responsive-font-size-using-css-jquery*/
function textfit() {
    fitbox('#clocktext-upper', '#clockbody', 200);
    fitbox('#clocktext-lower', '#clockbody', 150);
    fitbox('#break-text', '#clockbody', 300);
    fitbox('#session-text', '#clockbody', 300);
    fitbox('#break-counter', '#clockbody', 300);
    fitbox('#session-counter', '#clockbody', 300);
}

$(window).on('resize', textfit);

$(document).ready(function(){
   textfit();
});

</script>

<!-- 
  HTML  
-->

<!-- https://www.cssscript.com/circular-countdown-timer-javascript-css3/ -->  

<body>
  <div class="row">
    <div class="col-md-4 col-xs-4"></div>
    <div id="clockbody" class="circle col-md-4 col-xs-4">
      <svg viewBox="0 0 220 220" xmlns="http://www.w3.org/2000/svg">
        <g transform="translate(110,110)">
          <circle r="100" class="e-c-base"/>
          <g transform="rotate(-90)">
            <circle r="100" class="e-c-progress"/>
          </g>
        </g>
      </svg>
      <div id="clocktext-holder">
        <div id="clocktext-holder-2">
          <p id="clocktext-upper" class="noselect clocktext">
          Pomodoro timer
          </p>
          <p id="clocktext-lower" class="noselect clocktext">
          -
          </p>
        </div>
      </div>
    </div>
  </div>
  <div class="row">
    <div class="col-md-4 col-xs-4"></div>
    <div class="col-md-2 col-xs-2">
      <div class="container-row noselect">
        <p id="break-text" class="noselect">
        Break length:
        </p>
        <button id="btndot" class="normal-button " onclick="button_click(event);">-</button>
        <span id="break-counter" class="noselect">
        10
        </span>
        <button id="btndot" class="normal-button " onclick="button_click(event);">+</button>
      </div>
    </div>
    <div class="col-md-2 col-xs-2">
      <div class="container-row noselect">
        <p id="session-text" class="noselect">
        Session length:
        </p>
        <button id="btndot" class="normal-button" onclick="button_click(event);">-</button>
        <span id="session-counter" class="noselect">
        50
        </span>
        <button id="btndot" class="normal-button " onclick="button_click(event);">+</button>
      </div>
    </div>
  </div>
</body
